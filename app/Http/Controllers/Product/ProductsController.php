<?php

namespace App\Http\Controllers\Product;

use App\Http\Controllers\Controller;
use App\Services\ProductsService;
use Illuminate\Http\Request;

class ProductsController extends Controller
{
    public function index($search_term)
    {
        //ProductsService::getProducts($search_term)
        $data = '{"next_page":2,"totalProducts":"342829","category":"aps","products":[{"position":{"page":1,"position":5,"global_position":4},"asin":"B07KMKLBLZ","price":{"discounted":false,"current_price":49.99,"currency":"USD","before_price":0,"savings_amount":0,"savings_percent":0},"reviews":{"total_reviews":6,"rating":3.8},"url":"https:\/\/www.amazon.com\/dp\/B07KMKLBLZ","score":"22.80","sponsored":false,"amazonChoice":false,"bestSeller":false,"amazonPrime":true,"title":"StarCruncher Resistance Bands Set 4 Piece Heavy Duty Exercise Cords Set for Home Workouts by Nikki Haskell Belt Fits 20\" -...","thumbnail":"https:\/\/m.media-amazon.com\/images\/I\/81pDzbF2YgL._AC_UY218_.jpg"},{"position":{"page":1,"position":7,"global_position":6},"asin":"B07P2F2YHT","price":{"discounted":false,"current_price":7.99,"currency":"USD","before_price":0,"savings_amount":0,"savings_percent":0},"reviews":{"total_reviews":14306,"rating":4.1},"url":"https:\/\/www.amazon.com\/dp\/B07P2F2YHT","score":"58654.60","sponsored":false,"amazonChoice":true,"bestSeller":false,"amazonPrime":false,"title":"DEGOL Skipping Rope Tangle-Free with Ball Bearings Rapid Speed Jump Rope Cable and 6\u201d Memory Foam Handles Ideal for Aerobi...","thumbnail":"https:\/\/m.media-amazon.com\/images\/I\/51YYXSJ4T3L._AC_UY218_.jpg"},{"position":{"page":1,"position":8,"global_position":7},"asin":"B088D8SJL8","price":{"discounted":false,"current_price":21.99,"currency":"USD","before_price":0,"savings_amount":0,"savings_percent":0},"reviews":{"total_reviews":8615,"rating":4.5},"url":"https:\/\/www.amazon.com\/dp\/B088D8SJL8","score":"38767.50","sponsored":false,"amazonChoice":false,"bestSeller":false,"amazonPrime":false,"title":"Giotto Large 1 Gallon\/128oz (When Full) Motivational Water Bottle with Time Marker & Straw, Leakproof Tritan BPA Free for ...","thumbnail":"https:\/\/m.media-amazon.com\/images\/I\/71swDHE9LLL._AC_UY218_.jpg"},{"position":{"page":1,"position":9,"global_position":8},"asin":"B00ZPAWV5C","price":{"discounted":true,"current_price":16.99,"currency":"USD","before_price":24.97,"savings_amount":7.98,"savings_percent":31.96},"reviews":{"total_reviews":6465,"rating":4.7},"url":"https:\/\/www.amazon.com\/dp\/B00ZPAWV5C","score":"30385.50","sponsored":false,"amazonChoice":false,"bestSeller":true,"amazonPrime":false,"title":"Fitnessery Ab Roller for Abs Workout - Ab Roller Wheel Exercise Equipment - Ab Wheel Exercise Equipment - Ab Wheel Roller ...","thumbnail":"https:\/\/m.media-amazon.com\/images\/I\/91xVOnMVbfL._AC_UY218_.jpg"},{"position":{"page":1,"position":10,"global_position":9},"asin":"B014V1Q6SI","price":{"discounted":true,"current_price":0,"currency":"USD","before_price":0.99,"savings_amount":0.99,"savings_percent":100},"reviews":{"total_reviews":6434,"rating":4.3},"url":"https:\/\/www.amazon.com\/dp\/B014V1Q6SI","score":"27666.20","sponsored":false,"amazonChoice":false,"bestSeller":false,"amazonPrime":false,"title":"Never Binge Again(tm): How Thousands of People Have Stopped Overeating and Binge Eating - and Stuck to the Diet of Their C...","thumbnail":"https:\/\/m.media-amazon.com\/images\/I\/91xn0z91DwL._AC_UY218_.jpg"},{"position":{"page":1,"position":11,"global_position":10},"asin":"B074B3B22G","price":{"discounted":false,"current_price":129,"currency":"USD","before_price":0,"savings_amount":0,"savings_percent":0},"reviews":{"total_reviews":7738,"rating":4.5},"url":"https:\/\/www.amazon.com\/dp\/B074B3B22G","score":"34821.00","sponsored":false,"amazonChoice":false,"bestSeller":true,"amazonPrime":true,"title":"Sunny Health & Fitness Squat Assist Row-N-Ride Trainer for Squat Exercise and Glutes Workout","thumbnail":"https:\/\/m.media-amazon.com\/images\/I\/81EExh8AaIL._AC_UY218_.jpg"},{"position":{"page":1,"position":12,"global_position":11},"asin":"B01LXWDSSO","price":{"discounted":false,"current_price":0.99,"currency":"USD","before_price":0,"savings_amount":0,"savings_percent":0},"reviews":{"total_reviews":120,"rating":4.1},"url":"https:\/\/www.amazon.com\/dp\/B01LXWDSSO","score":"492.00","sponsored":false,"amazonChoice":false,"bestSeller":false,"amazonPrime":false,"title":"21 Day Transformation","thumbnail":"https:\/\/m.media-amazon.com\/images\/I\/61RvGMYIN8L._AC_UY218_.jpg"},{"position":{"page":1,"position":13,"global_position":12},"asin":"B075R756GJ","price":{"discounted":false,"current_price":0,"currency":"USD","before_price":0,"savings_amount":0,"savings_percent":0},"reviews":{"total_reviews":6614,"rating":4.4},"url":"https:\/\/www.amazon.com\/dp\/B075R756GJ","score":"29101.60","sponsored":false,"amazonChoice":false,"bestSeller":true,"amazonPrime":false,"title":"New Balance Women\'s FuelCore Nergize V1 Sneaker","thumbnail":"https:\/\/m.media-amazon.com\/images\/I\/81YWRRsMBpL._AC_UY218_.jpg"},{"position":{"page":1,"position":14,"global_position":13},"asin":"B01DFQWWKQ","price":{"discounted":false,"current_price":0.99,"currency":"USD","before_price":0,"savings_amount":0,"savings_percent":0},"reviews":{"total_reviews":41,"rating":3.3},"url":"https:\/\/www.amazon.com\/dp\/B01DFQWWKQ","score":"135.30","sponsored":false,"amazonChoice":false,"bestSeller":false,"amazonPrime":false,"title":"H.I.I.T At Home - Fat Burning System","thumbnail":"https:\/\/m.media-amazon.com\/images\/I\/712F0IX2oCL._AC_UY218_.jpg"},{"position":{"page":1,"position":15,"global_position":14},"asin":"B07TVGHH72","price":{"discounted":false,"current_price":32.99,"currency":"USD","before_price":0,"savings_amount":0,"savings_percent":0},"reviews":{"total_reviews":182,"rating":3.8},"url":"https:\/\/www.amazon.com\/dp\/B07TVGHH72","score":"691.60","sponsored":false,"amazonChoice":false,"bestSeller":false,"amazonPrime":true,"title":"Muscle Toner Abs Stimulator, Portable Muscle Trainer, Rechargeable Abdominal Toning Belt Ultimate Muscle Toner for Men Wom...","thumbnail":"https:\/\/m.media-amazon.com\/images\/I\/61fkzGoKz5L._AC_UY218_.jpg"},{"position":{"page":1,"position":17,"global_position":16},"asin":"B078JFSN9Z","price":{"discounted":true,"current_price":29.97,"currency":"USD","before_price":39.97,"savings_amount":10,"savings_percent":25.02},"reviews":{"total_reviews":7835,"rating":4.8},"url":"https:\/\/www.amazon.com\/dp\/B078JFSN9Z","score":"37608.00","sponsored":false,"amazonChoice":false,"bestSeller":false,"amazonPrime":true,"title":"Fitness Insanity Resistance Bands Set - 5-Piece Exercise Bands - Portable Home Gym Accessories - Stackable Up to 150 lbs. ...","thumbnail":"https:\/\/m.media-amazon.com\/images\/I\/71J9VtXaKwL._AC_UY218_.jpg"},{"position":{"page":1,"position":18,"global_position":17},"asin":"B07K8XNS9H","price":{"discounted":false,"current_price":0,"currency":"USD","before_price":0,"savings_amount":0,"savings_percent":0},"reviews":{"total_reviews":2920,"rating":4.6},"url":"https:\/\/www.amazon.com\/dp\/B07K8XNS9H","score":"13432.00","sponsored":false,"amazonChoice":false,"bestSeller":true,"amazonPrime":false,"title":"Workout\/Fitness and\/or Nutrition Journal\/Planners - Designed by Experts, w\/Illustrations : Sturdy Binding, Thick Pages & L...","thumbnail":"https:\/\/m.media-amazon.com\/images\/I\/718c8qRUtqL._AC_UY218_.jpg"},{"position":{"page":1,"position":19,"global_position":18},"asin":"B01KN17NTQ","price":{"discounted":false,"current_price":34.99,"currency":"USD","before_price":0,"savings_amount":0,"savings_percent":0},"reviews":{"total_reviews":2034,"rating":4.4},"url":"https:\/\/www.amazon.com\/dp\/B01KN17NTQ","score":"8949.60","sponsored":false,"amazonChoice":false,"bestSeller":false,"amazonPrime":true,"title":"Perfect Fitness Multi-Gym Doorway Pull Up Bar and Portable Gym System","thumbnail":"https:\/\/m.media-amazon.com\/images\/I\/71EzizrzGYL._AC_UY218_.jpg"},{"position":{"page":1,"position":20,"global_position":19},"asin":"B087YVX8T6","price":{"discounted":false,"current_price":26.99,"currency":"USD","before_price":0,"savings_amount":0,"savings_percent":0},"reviews":{"total_reviews":17,"rating":4.3},"url":"https:\/\/www.amazon.com\/dp\/B087YVX8T6","score":"73.10","sponsored":false,"amazonChoice":false,"bestSeller":false,"amazonPrime":true,"title":"Anlye Pilates Bar | Adjustable Resistance Bands Stick with Foot Loops | Exercise Equipment with Instructions | Upgraded To...","thumbnail":"https:\/\/m.media-amazon.com\/images\/I\/61AO9RXSswL._AC_UY218_.jpg"},{"position":{"page":1,"position":21,"global_position":20},"asin":"0989892433","price":{"discounted":true,"current_price":9.95,"currency":"USD","before_price":17.95,"savings_amount":8,"savings_percent":44.57},"reviews":{"total_reviews":1472,"rating":4.7},"url":"https:\/\/www.amazon.com\/dp\/0989892433","score":"6918.40","sponsored":false,"amazonChoice":false,"bestSeller":false,"amazonPrime":false,"title":"Kettlebell Simple & Sinister: Revised and Updated (2nd Edition)","thumbnail":"https:\/\/m.media-amazon.com\/images\/I\/91I+pKLXkWL._AC_UY218_.jpg"},{"position":{"page":1,"position":22,"global_position":21},"asin":"B08DKY6FYV","price":{"discounted":false,"current_price":10.95,"currency":"USD","before_price":0,"savings_amount":0,"savings_percent":0},"reviews":{"total_reviews":35138,"rating":4.4},"url":"https:\/\/www.amazon.com\/dp\/B08DKY6FYV","score":"154607.20","sponsored":false,"amazonChoice":false,"bestSeller":false,"amazonPrime":false,"title":"Letsfit Resistance Loop Bands, Resistance Exercise Bands for Home Fitness, Stretching, Strength Training, Physical Therapy...","thumbnail":"https:\/\/m.media-amazon.com\/images\/I\/61dv71rXoCL._AC_UY218_.jpg"},{"position":{"page":1,"position":23,"global_position":22},"asin":"1606794973","price":{"discounted":true,"current_price":47.52,"currency":"USD","before_price":69.95,"savings_amount":22.43,"savings_percent":32.07},"reviews":{"total_reviews":3,"rating":5},"url":"https:\/\/www.amazon.com\/dp\/1606794973","score":"15.00","sponsored":false,"amazonChoice":false,"bestSeller":false,"amazonPrime":true,"title":"The Physics of Resistance Exercise","thumbnail":"https:\/\/m.media-amazon.com\/images\/I\/71yCXIO-g6L._AC_UY218_.jpg"},{"position":{"page":1,"position":24,"global_position":23},"asin":"B085FSYYFV","price":{"discounted":false,"current_price":35.99,"currency":"USD","before_price":0,"savings_amount":0,"savings_percent":0},"reviews":{"total_reviews":16532,"rating":4.3},"url":"https:\/\/www.amazon.com\/dp\/B085FSYYFV","score":"71087.60","sponsored":false,"amazonChoice":false,"bestSeller":false,"amazonPrime":true,"title":"Letsfit Smart Watch, Fitness Tracker with Heart Rate Monitor, Activity Tracker with 1.3\" Touch Screen, IP68 Waterproof Ped...","thumbnail":"https:\/\/m.media-amazon.com\/images\/I\/61cWkT9X4AL._AC_UY218_.jpg"},{"position":{"page":1,"position":25,"global_position":24},"asin":"B07JG5R256","price":{"discounted":false,"current_price":139,"currency":"USD","before_price":0,"savings_amount":0,"savings_percent":0},"reviews":{"total_reviews":878,"rating":4.6},"url":"https:\/\/www.amazon.com\/dp\/B07JG5R256","score":"4038.80","sponsored":false,"amazonChoice":false,"bestSeller":false,"amazonPrime":true,"title":"STEALTH Core Trainer - Dynamic Core & Full Body Workout While Playing Games; Free iOS\/Android Mobile Games App; Patented 3...","thumbnail":"https:\/\/m.media-amazon.com\/images\/I\/71R4RdHokGL._AC_UY218_.jpg"}]}';
        $response = (object) json_decode($data, true);
        $products = $response->products;

        return view('products.category.products', compact('products'));
    }
}
